<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clubnow - Max Discount Home Appliances</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7; /* Light background */
            background-image: none;
        }
        /* Custom transitions for the category items */
        .category-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            /* Light card background */
            background-color: #ffffff; 
        }
        .category-card:hover {
            transform: translateY(-6px);
            /* Red shadow on hover */
            box-shadow: 0 15px 25px -5px rgba(220, 38, 38, 0.2), 0 6px 10px -2px rgba(220, 38, 38, 0.1); 
        }
        .banner-item {
            transition: opacity 1s ease-in-out;
        }
    </style>
</head>
<body>

    <!-- Header / Navbar -->
    <header class="bg-white shadow-xl sticky top-0 z-10 border-b-4 border-red-600">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-3xl font-extrabold text-red-700">Clubnow</h1>
            <nav class="hidden md:flex space-x-8 text-gray-600">
                <a href="#" class="hover:text-red-600 transition duration-150">Home</a>
                <a href="#categories" class="hover:text-red-600 transition duration-150">Max Discount Shop</a>
                <a href="#about" class="hover:text-red-600 transition duration-150">How It Works</a>
                <a href="#" class="bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 transition duration-150 shadow-md">Join Now</a>
            </nav>
        </div>
    </header>

    <!-- Full-Width Auto-Changing Banner -->
    <section class="w-full relative h-96 overflow-hidden">
        <div id="banner-container" class="h-full">
            <!-- Banner Item 1: Clubbing Model Focus -->
            <div class="banner-item absolute inset-0 bg-cover bg-center opacity-100" style="background-image: url('https://placehold.co/1920x400/1e40af/ffffff?text=Club+Orders+for+Maximum+Savings');">
                <div class="absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center">
                    <div class="text-center p-8">
                        <h2 class="text-5xl font-extrabold text-red-400 mb-4">The Clubnow Advantage: Max Discount Achieved</h2>
                        <p class="text-xl text-gray-200">Our unique system clubs orders to get you the lowest price on all major appliances.</p>
                        <button class="mt-6 bg-red-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-red-700 transition duration-300">Start Saving Today</button>
                    </div>
                </div>
            </div>
            <!-- Banner Item 2: Premium Products -->
            <div class="banner-item absolute inset-0 bg-cover bg-center opacity-0" style="background-image: url('https://placehold.co/1920x400/065f46/ffffff?text=Premium+Appliances+Secured');">
                <div class="absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center">
                    <div class="text-center p-8">
                        <h2 class="text-5xl font-extrabold text-red-400 mb-4">Unbeatable Performance, Guaranteed Lowest Price</h2>
                        <p class="text-xl text-gray-100">Access top-tier electronics and home appliances from leading global vendors.</p>
                        <button class="mt-6 bg-red-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-red-700 transition duration-300">Explore Categories</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Introductory Content Section -->
    <section id="about" class="py-16 bg-white text-gray-900 border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-4xl font-bold text-red-700 mb-4">How Clubnow Works</h2>
            <p class="text-xl text-gray-600 mb-12 max-w-4xl mx-auto">
                Clubnow is built on the power of collective buying. Our system intelligently **clubs orders from different people** for the same product, creating massive bulk purchasing power. This volume allows us to secure the **maximum possible discount** from leading appliance vendors, passing those savings directly to you.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="p-6 bg-red-50 rounded-xl shadow-lg transition duration-300 hover:shadow-xl hover:bg-red-100 border border-red-600/30">
                    <div class="text-4xl text-red-700 mb-3">ü§ù</div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-900">Collective Ordering</h3>
                    <p class="text-gray-600">Your inquiry joins a pool of others, increasing total purchase volume instantly.</p>
                </div>
                <div class="p-6 bg-red-50 rounded-xl shadow-lg transition duration-300 hover:shadow-xl hover:bg-red-100 border border-red-600/30">
                    <div class="text-4xl text-red-700 mb-3">üí∞</div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-900">Maximum Discounts</h3>
                    <p class="text-gray-600">We leverage bulk volume to negotiate discounts unavailable through standard retail.</p>
                </div>
                <div class="p-6 bg-red-50 rounded-xl shadow-lg transition duration-300 hover:shadow-xl hover:bg-red-100 border border-red-600/30">
                    <div class="text-4xl text-red-700 mb-3">üöÄ</div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-900">Premium Appliances</h3>
                    <p class="text-gray-600">Get top-of-the-line electronics without paying the top-tier price.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Category Explorer Section -->
    <section id="categories" class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-8 text-center">Find Your Appliance at Club Prices</h2>

            <!-- Breadcrumb Navigation -->
            <div class="mb-6">
                <ol id="breadcrumb" class="flex flex-wrap items-center text-sm text-gray-600">
                    <li class="flex items-center">
                        <span class="font-medium text-red-700 cursor-pointer hover:underline" onclick="navigateToLevel(0)">Home</span>
                    </li>
                </ol>
            </div>

            <!-- Dynamic Category List - Now 4 columns for 12 items -->
            <div id="category-list" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Categories will be rendered here by JavaScript -->
            </div>

        </div>
    </section>

    <!-- Contact Modal (Hidden by default) -->
    <div id="contact-modal" class="fixed inset-0 z-50 bg-black bg-opacity-80 hidden transition duration-300" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div id="modal-content" class="bg-white rounded-xl shadow-2xl p-6 w-full max-w-lg transform transition-all duration-300 scale-95 opacity-0 border border-red-600/50">
                <div class="flex justify-between items-start mb-4">
                    <h3 class="text-2xl font-bold text-red-700" id="modal-title">Inquire for Club Pricing on <span id="final-selection-name" class="text-gray-900">Product</span></h3>
                    <button onclick="closeModal()" class="text-gray-400 hover:text-gray-600 transition">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>

                <p class="text-sm text-gray-600 mb-6">Provide your contact details below. Once enough collective orders are met, our specialist will contact you with the final, maximized discount price.</p>

                <form id="contact-form" onsubmit="handleFormSubmit(event)">
                    <div class="space-y-4">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                            <input type="text" id="name" name="name" required class="w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900 focus:ring-red-600 focus:border-red-600 transition duration-150">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                            <input type="email" id="email" name="email" required class="w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900 focus:ring-red-600 focus:border-red-600 transition duration-150">
                        </div>
                        <div>
                            <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                            <input type="tel" id="phone" name="phone" required class="w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900 focus:ring-red-600 focus:border-red-600 transition duration-150">
                        </div>
                    </div>

                    <div id="submission-message" class="mt-4 text-center p-3 rounded-lg text-white font-medium hidden"></div>

                    <div class="mt-6 flex justify-end">
                        <button type="button" onclick="closeModal()" class="bg-gray-300 text-gray-700 py-2 px-4 rounded-lg mr-3 hover:bg-gray-400 transition duration-150">Cancel</button>
                        <button type="submit" id="submit-button" class="bg-red-600 text-white py-2 px-6 rounded-lg font-bold hover:bg-red-700 transition duration-150 shadow-lg">Submit Inquiry</button>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 py-8 mt-12 border-t border-red-600">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p>&copy; 2024 Clubnow. The future of discounted appliances.</p>
            <div class="flex justify-center space-x-4 mt-3 text-sm text-gray-500">
                <a href="#" class="hover:text-red-400">Privacy Policy</a>
                <a href="#" class="hover:text-red-400">Terms of Clubbing</a>
            </div>
        </div>
    </footer>

    <script>
        // Global Data and State
        const categories = [
            // --- 1. Air Conditioners (AC) ---
            { name: "Air Conditioners", image: "https://placehold.co/400x300/1e40af/ffffff?text=Cooling+Systems", id: "AC", children: [
                { name: "Inverter ACs", id: "INV", children: [
                    { name: "1.5 Ton Capacity", id: "1.5T", children: [
                        { name: "5-Star Rating", id: "5S", children: [
                            { name: "Smart Wi-Fi Connect", isFinal: true, id: "WIFI" },
                            { name: "Self-Clean Technology", isFinal: true, id: "SC" }
                        ]}
                    ]}
                ]},
                { name: "Non-Inverter ACs", id: "NONINV", children: [
                    { name: "Window Units", id: "WIN", children: [
                        { name: "0.8 Ton Capacity", id: "0.8T", children: [
                            { name: "Basic Cooling", isFinal: true, id: "BAS" }
                        ]}
                    ]}
                ]}
            ]},
            // --- 2. Smart Televisions (TV) ---
            { name: "Smart Televisions", image: "https://placehold.co/400x300/c026d3/ffffff?text=Visual+Tech", id: "TV", children: [
                { name: "QLED Displays", id: "QLED", children: [
                    { name: "65-Inch", id: "65IN", children: [
                        { name: "8K UHD Resolution", id: "8KUHD", children: [
                            { name: "Cinematic Soundbar Incl.", isFinal: true, id: "CIN" },
                            { name: "Built-in Voice Assistant", isFinal: true, id: "VA"}
                        ]}
                    ]}
                ]},
                { name: "OLED Displays", id: "OLED", children: [
                    { name: "55-Inch", id: "55IN", children: [
                        { name: "4K UHD Resolution", id: "4KUHD", children: [
                            { name: "Gaming Optimized (120Hz)", isFinal: true, id: "GOPT" }
                        ]}
                    ]}
                ]}
            ]},
            // --- 3. Washing Machines (WM) ---
            { name: "Washing Machines", image: "https://placehold.co/400x300/059669/ffffff?text=Laundry+Care", id: "WM", children: [
                { name: "Front Load", id: "FL", children: [
                    { name: "10 Kg Capacity", id: "10KG", children: [
                        { name: "Steam Wash Feature", id: "SW", children: [
                            { name: "IoT Enabled", isFinal: true, id: "IOT" },
                            { name: "Anti-Allergy Cycle", isFinal: true, id: "AAC" }
                        ]}
                    ]}
                ]},
                { name: "Top Load", id: "TL", children: [
                    { name: "8 Kg Capacity", id: "8KG", children: [
                        { name: "Quick Wash Feature", id: "QW", children: [
                            { name: "Hard Water Treatment", isFinal: true, id: "HWT" }
                        ]}
                    ]}
                ]}
            ]},
            // --- 4. Refrigerators (RF) ---
            { name: "Refrigerators", image: "https://placehold.co/400x300/F59E0B/000000?text=Food+Storage", id: "RF", children: [
                { name: "French Door", id: "FD", children: [
                    { name: "600 Litre Capacity", id: "600L", children: [
                        { name: "Convertible Freezer", id: "CF", children: [
                            { name: "Built-in Water Dispenser", isFinal: true, id: "WD" },
                            { name: "Smart Inverter Compressor", isFinal: true, id: "SIC" }
                        ]}
                    ]}
                ]},
                { name: "Double Door", id: "DD", children: [
                    { name: "350 Litre Capacity", id: "350L", children: [
                        { name: "Frost-Free Cooling", id: "FFC", children: [
                            { name: "Toughened Glass Shelves", isFinal: true, id: "TGS" }
                        ]}
                    ]}
                ]}
            ]},
            // --- 5. Microwave Ovens (MW) ---
            { name: "Microwave Ovens", image: "https://placehold.co/400x300/EF4444/ffffff?text=Fast+Cooking", id: "MW", children: [
                { name: "Convection", id: "CON", children: [
                    { name: "30 Litre", id: "30L", children: [
                        { name: "Tactile Buttons", id: "TB", children: [
                            { name: "Auto Cook Menus (150+)", isFinal: true, id: "ACM" },
                            { name: "Deodorizer Function", isFinal: true, id: "DFN" }
                        ]}
                    ]}
                ]},
                { name: "Solo", id: "SOLO", children: [
                    { name: "20 Litre", id: "20L", children: [
                        { name: "Mechanical Control", id: "MC", children: [
                            { name: "Basic Reheat Model", isFinal: true, id: "BRM" }
                        ]}
                    ]}
                ]}
            ]},
            // --- 6. Dishwashers (DW) ---
            { name: "Dishwashers", image: "https://placehold.co/400x300/10B981/ffffff?text=Kitchen+Cleaning", id: "DW", children: [
                { name: "Built-in", id: "BI", children: [
                    { name: "14 Place Settings", id: "14PS", children: [
                        { name: "Third Rack Technology", id: "TRT", children: [
                            { name: "EcoSilence Drive", isFinal: true, id: "ESD" },
                            { name: "Zeolite Drying", isFinal: true, id: "ZD" }
                        ]}
                    ]}
                ]},
                { name: "Freestanding", id: "FS", children: [
                    { name: "12 Place Settings", id: "12PS", children: [
                        { name: "Adjustable Racks", id: "AR", children: [
                            { name: "Basic Model", isFinal: true, id: "BM" }
                        ]}
                    ]}
                ]}
            ]},
            // --- 7. Air Purifiers (AP) ---
            { name: "Air Purifiers", image: "https://placehold.co/400x300/4F46E5/ffffff?text=Air+Quality", id: "AP", children: [
                { name: "HEPA Filtration", id: "HEPA", children: [
                    { name: "Large Room (500 sqft)", id: "LR", children: [
                        { name: "Laser Dust Sensor", id: "LDS", children: [
                            { name: "App Controlled Scheduling", isFinal: true, id: "ACS" },
                            { name: "UV-C Sterilization", isFinal: true, id: "UVCS" }
                        ]}
                    ]}
                ]},
                { name: "Carbon Filter", id: "CF", children: [
                    { name: "Medium Room (300 sqft)", id: "MR", children: [
                        { name: "Standard Sensor", isFinal: true, id: "TSM" }
                    ]}
                ]}
            ]},
            // --- 8. Vacuum Cleaners (VC) ---
            { name: "Vacuum Cleaners", image: "https://placehold.co/400x300/CA8A04/ffffff?text=Floor+Care", id: "VC", children: [
                { name: "Robotic Vacuums", id: "RV", children: [
                    { name: "Lidar Mapping", id: "LM", children: [
                        { name: "Auto-Empty Station", id: "AES", children: [
                            { name: "Mop & Vacuum Combo", isFinal: true, id: "MVC" },
                            { name: "Multi-Floor Memory", isFinal: true, id: "MFM" }
                        ]}
                    ]}
                ]},
                { name: "Cordless Stick", id: "CS", children: [
                    { name: "High Suction (150AW)", id: "HS", children: [
                        { name: "Interchangeable Batteries", id: "IB", children: [
                            { name: "Pet Hair Attachments", isFinal: true, id: "PHA" }
                        ]}
                    ]}
                ]}
            ]},
             // --- 9. Water Purifiers (WP) ---
            { name: "Water Purifiers", image: "https://placehold.co/400x300/06B6D4/ffffff?text=Safe+Drinking", id: "WP", children: [
                { name: "RO + UV + UF Filtration", id: "RO", children: [
                    { name: "10 Litre Storage", id: "10L", children: [
                        { name: "Mineral Infusion", id: "MI", children: [
                            { name: "Smart Service Alert", isFinal: true, id: "SSA" },
                            { name: "Digital Dispenser", isFinal: true, id: "DD" }
                        ]}
                    ]}
                ]},
                { name: "Gravity Filter", id: "GF", children: [
                    { name: "15 Litre Storage", id: "15L", children: [
                        { name: "Ceramic Candle", id: "CC", children: [
                            { name: "High Flow Rate", isFinal: true, id: "HFR" }
                        ]}
                    ]}
                ]}
            ]},
            // --- 10. Home Theatre Systems (HT) ---
            { name: "Home Theatre Systems", image: "https://placehold.co/400x300/4B5563/ffffff?text=Immersive+Sound", id: "HT", children: [
                { name: "Soundbars", id: "SB", children: [
                    { name: "5.1 Channel", id: "5.1C", children: [
                        { name: "Dolby Atmos Support", id: "DA", children: [
                            { name: "Wireless Subwoofer", isFinal: true, id: "WS" },
                            { name: "Rear Speakers Included", isFinal: true, id: "RSI" }
                        ]}
                    ]}
                ]},
                { name: "AV Receivers", id: "AVR", children: [
                    { name: "7.2 Channel", id: "7.2C", children: [
                        { name: "100W Per Channel", id: "100W", children: [
                            { name: "8K Passthrough", isFinal: true, id: "8KP" }
                        ]}
                    ]}
                ]}
            ]},
            // --- 11. Geysers/Water Heaters (WH) ---
            { name: "Water Heaters (Geysers)", image: "https://placehold.co/400x300/991B1B/ffffff?text=Hot+Water", id: "WH", children: [
                { name: "Instant Geysers", id: "IG", children: [
                    { name: "3 Litre", id: "3L", children: [
                        { name: "Copper Heating Element", id: "CHE", children: [
                            { name: "High Pressure Rated", isFinal: true, id: "HPR" },
                            { name: "LED Temperature Indicator", isFinal: true, id: "LTI" }
                        ]}
                    ]}
                ]},
                { name: "Storage Geysers", id: "SG", children: [
                    { name: "25 Litre", id: "25L", children: [
                        { name: "Glasslined Tank", id: "GLT", children: [
                            { name: "Magnesium Anode Rod", isFinal: true, id: "MAR" }
                        ]}
                    ]}
                ]}
            ]},
            // --- 12. Induction Cooktops (IC) ---
            { name: "Induction Cooktops", image: "https://placehold.co/400x300/1D4ED8/ffffff?text=Modern+Cooking", id: "IC", children: [
                { name: "Single Burner", id: "SB", children: [
                    { name: "2000 Watt", id: "2000W", children: [
                        { name: "Preset Indian Menus", id: "PIM", children: [
                            { name: "Touch Control Panel", isFinal: true, id: "TCP" },
                            { name: "Safety Lock Function", isFinal: true, id: "SLF" }
                        ]}
                    ]}
                ]},
                { name: "Double Burner", id: "DB", children: [
                    { name: "3500 Watt", id: "3500W", children: [
                        { name: "Digital Timer", id: "DT", children: [
                            { name: "Independent Control", isFinal: true, id: "ICN" }
                        ]}
                    ]}
                ]}
            ]}
        ];

        // State to track current navigation path
        let currentPath = [];
        let finalProductId = null;

        /**
         * Finds the current set of children based on the currentPath state.
         * @returns {Array} The array of categories to display.
         */
        function getCurrentCategories() {
            let current = categories;
            for (const pathId of currentPath) {
                const parent = current.find(c => c.id === pathId);
                if (!parent || !parent.children) return [];
                current = parent.children;
            }
            return current;
        }

        /**
         * Renders the category list based on the current path.
         * @param {Array} list - The list of categories to render.
         */
        function renderCategories(list) {
            const container = document.getElementById('category-list');
            container.innerHTML = '';
            
            // Check if we are at Level 5+ and the current list only contains final options
            const currentLevel = currentPath.length;
            const titleElement = document.querySelector('#categories h2');
            
            let titleText = "Choose a Product Category";
            if (currentLevel === 1) titleText = "Select Type";
            if (currentLevel === 2) titleText = "Select Capacity/Size";
            if (currentLevel === 3) titleText = "Select Key Feature";
            if (currentLevel >= 4) titleText = "Final Selection - Inquire for Best Club Price";
            
            titleElement.textContent = titleText;


            if (list.length === 0) {
                // If the list is empty, something is wrong, go back to the start.
                navigateToLevel(0);
                return;
            }

            list.forEach(category => {
                const isFinal = category.isFinal;
                // Use different placeholder colors for variety
                const imageColor = ['F59E0B', '10B981', 'EF4444', '4F46E5'][currentPath.length % 4]; 
                const image = category.image || `https://placehold.co/400x300/${imageColor}/000000?text=Level+${currentPath.length + 1}`;
                
                // Use RED for final inquiry button, light gray for others
                const actionClass = isFinal ? 'bg-red-600 text-white hover:bg-red-700 font-bold' : 'bg-gray-200 text-gray-700 hover:bg-gray-300';
                const buttonText = isFinal ? 'Inquire for Club Price' : 'Explore Sub-Categories';

                // Render image only for Level 1 categories
                const imageHtml = currentPath.length === 0 ? 
                    `<img src="${image}" onerror="this.src='https://placehold.co/400x300/3b82f6/ffffff?text=Image+Missing'" alt="${category.name}" class="w-full h-48 object-cover rounded-t-xl transition duration-500 group-hover:opacity-80">` : '';

                const cardHtml = `
                    <div class="category-card group bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200 hover:border-red-600">
                        ${imageHtml}
                        <div class="p-6">
                            <h3 class="text-xl font-semibold mb-3 ${isFinal ? 'text-red-700' : 'text-gray-800'}">${category.name}</h3>
                            <p class="text-sm text-gray-600 mb-4">${isFinal ? 'This final selection qualifies for Max Club Discount!' : `(${category.children ? category.children.length : 0} options)`}</p>
                            
                            <button 
                                onclick="handleCategoryClick('${category.id}', ${isFinal})" 
                                class="w-full py-3 px-4 rounded-lg font-bold ${actionClass} transition duration-300">
                                ${buttonText}
                            </button>
                        </div>
                    </div>
                `;
                container.innerHTML += cardHtml;
            });
            updateBreadcrumb();
        }

        /**
         * Updates the breadcrumb trail based on the currentPath state.
         */
        function updateBreadcrumb() {
            const breadcrumb = document.getElementById('breadcrumb');
            let html = `
                <li class="flex items-center">
                    <span class="font-medium text-gray-600 cursor-pointer hover:text-red-700 transition" onclick="navigateToLevel(0)">Home</span>
                </li>
            `;

            let currentCategories = categories;
            let currentPathNames = [];

            for (let i = 0; i < currentPath.length; i++) {
                const pathId = currentPath[i];
                const category = currentCategories.find(c => c.id === pathId);
                if (category) {
                    currentPathNames.push(category.name);
                    
                    html += `
                        <li class="flex items-center">
                            <span class="mx-2 text-gray-400">/</span>
                            <span class="font-medium ${i === currentPath.length - 1 ? 'text-red-700' : 'text-gray-600 cursor-pointer hover:text-red-700 transition'}" 
                                onclick="navigateToLevel(${i + 1})">
                                ${category.name}
                            </span>
                        </li>
                    `;

                    currentCategories = category.children;
                }
            }
            breadcrumb.innerHTML = html;
        }

        /**
         * Handles the click on a category card.
         * @param {string} id - The ID of the clicked category.
         * @param {boolean} isFinal - True if this is a final option, triggering the modal.
         */
        function handleCategoryClick(id, isFinal) {
            if (isFinal) {
                // Find the name of the final product to display in the modal
                const list = getCurrentCategories();
                const finalProduct = list.find(c => c.id === id);
                if (finalProduct) {
                    document.getElementById('final-selection-name').textContent = finalProduct.name;
                    finalProductId = finalProduct.id;
                }
                openModal();
            } else {
                currentPath.push(id);
                renderCategories(getCurrentCategories());
                // Scroll to the categories section for better UX on mobile
                document.getElementById('categories').scrollIntoView({ behavior: 'smooth' });
            }
        }

        /**
         * Navigates back up the category tree to a specific level.
         * @param {number} level - The target level (0 for home, 1 for level 1, etc.)
         */
        function navigateToLevel(level) {
            currentPath = currentPath.slice(0, level);
            renderCategories(getCurrentCategories());
        }

        // --- Modal Functions ---

        function openModal() {
            const modal = document.getElementById('contact-modal');
            const content = document.getElementById('modal-content');
            modal.classList.remove('hidden');
            // Force reflow to ensure transition works
            void modal.offsetWidth; 
            modal.classList.add('opacity-100');
            content.classList.remove('scale-95', 'opacity-0');
            content.classList.add('scale-100', 'opacity-100');
        }

        function closeModal() {
            const modal = document.getElementById('contact-modal');
            const content = document.getElementById('modal-content');
            content.classList.remove('scale-100', 'opacity-100');
            content.classList.add('scale-95', 'opacity-0');
            modal.classList.remove('opacity-100');
            
            setTimeout(() => {
                modal.classList.add('hidden');
                // Reset form and message
                document.getElementById('contact-form').reset();
                document.getElementById('submission-message').classList.add('hidden');
                document.getElementById('submit-button').disabled = false;
                document.getElementById('submit-button').textContent = 'Submit Inquiry';
            }, 300); // Match transition duration
        }

        /**
         * Handles the form submission (POST request simulation).
         * @param {Event} event - The form submit event.
         */
        async function handleFormSubmit(event) {
            event.preventDefault();
            const form = event.target;
            const submitButton = document.getElementById('submit-button');
            const messageDiv = document.getElementById('submission-message');

            const formData = {
                product_id: finalProductId,
                product_name: document.getElementById('final-selection-name').textContent,
                name: form.name.value,
                email: form.email.value,
                phone: form.phone.value,
                clubnow_model_active: true // Indicating the order is for the clubbing model
            };

            // 1. Processing State (Blue)
            messageDiv.textContent = 'Processing Club Order...';
            messageDiv.className = 'mt-4 text-center p-3 rounded-lg text-white font-medium bg-blue-500 block';
            submitButton.disabled = true;
            submitButton.textContent = 'Submitting...';

            console.log('--- Sample POST Request Payload ---');
            console.log(JSON.stringify(formData, null, 2));

            // --- Sample POST Request Code ---
            const SAMPLE_API_ENDPOINT = 'https://jsonplaceholder.typicode.com/posts'; // Using a mock API endpoint
            
            try {
                // Simulate network latency (2 seconds)
                await new Promise(resolve => setTimeout(resolve, 2000)); 

                const response = await fetch(SAMPLE_API_ENDPOINT, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                if (response.ok) {
                    const result = await response.json();
                    console.log('Sample API Response:', result);

                    // 2. Success State (Green)
                    messageDiv.textContent = 'Inquiry Received! Your club order is being processed. Expect a call with the Max Discount price soon!';
                    messageDiv.className = 'mt-4 text-center p-3 rounded-lg text-white font-bold bg-green-600 block';
                    submitButton.textContent = 'Success!';
                    
                } else {
                    throw new Error('Network response was not ok.');
                }
            } catch (error) {
                console.error('Submission failed:', error);
                // 3. Error State (Red)
                messageDiv.textContent = 'Error: Failed to process club order. Please check your connection and try again.';
                messageDiv.className = 'mt-4 text-center p-3 rounded-lg text-white font-medium bg-red-600 block';
                submitButton.disabled = false;
                submitButton.textContent = 'Submit Inquiry';
            }
            // --- End Sample POST Request Code ---
        }

        // --- Banner Carousel Logic ---
        let currentBannerIndex = 0;
        const bannerItems = [];

        function initBanner() {
            const container = document.getElementById('banner-container');
            bannerItems.push(...container.querySelectorAll('.banner-item'));

            if (bannerItems.length > 0) {
                showBanner(0);
                setInterval(nextBanner, 5000); // Change banner every 5 seconds
            }
        }

        function showBanner(index) {
            bannerItems.forEach((item, i) => {
                if (i === index) {
                    item.style.opacity = '1';
                    item.style.zIndex = '1';
                } else {
                    item.style.opacity = '0';
                    item.style.zIndex = '0';
                }
            });
            currentBannerIndex = index;
        }

        function nextBanner() {
            const newIndex = (currentBannerIndex + 1) % bannerItems.length;
            showBanner(newIndex);
        }

        // Initialize the app on page load
        window.onload = function() {
            renderCategories(categories);
            initBanner();
        };

    </script>

</body>
</html>

